(this["webpackJsonpfont-end"]=this["webpackJsonpfont-end"]||[]).push([[4],{760:function(e,t,a){"use strict";a.r(t);var n=a(25),i=a(1),o=a.n(i),r=a(133),c=a(711),l=a(747),u=a(667),s=a(762),m=a(758),v=a(761),p=a(759),d=a(713),f=a(716),y=a(91),g=Object(c.a)({root:{minWidth:300,maxWidth:350},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});var h=function(e){var t=e.language,a=g();return o.a.createElement(d.a,{className:a.root,elevation:5},o.a.createElement(f.a,null,o.a.createElement(y.a,{className:a.title,color:"textSecondary",gutterBottom:!0},t?"\u57ce\u5e02\u540d\u79f0: "+(e.value.cityName?e.value.cityName:e.value.provinceShortName):"city name: "+e.value.cityEnglishName),o.a.createElement(y.a,{variant:"body2",component:"p"},(t?"\u5f53\u524d\u786e\u8bca: ":"current confirmed count: ")+e.value.currentConfirmedCount),o.a.createElement(y.a,{variant:"body2",component:"p"},(t?" \u7d2f\u8ba1\u786e\u8bca: ":"confirmed count: ")+e.value.confirmedCount),o.a.createElement(y.a,{variant:"body2",component:"p"},(t?"\u7591\u4f3c\u4eba\u6570: ":"suspencted count: ")+e.value.suspectedCount),o.a.createElement(y.a,{variant:"body2",component:"p"},(t?"\u6cbb\u6108\u4eba\u6570: ":"cured count: ")+e.value.curedCount),o.a.createElement(y.a,{variant:"body2",component:"p"},(t?"\u6b7b\u4ea1\u4eba\u6570: ":"dead count: ")+e.value.deadCount),o.a.createElement(y.a,{variant:"body2",component:"p"},t?"\u6240\u5c5e\u7701\u4efd: "+e.value.provinceName:"province: "+e.value.provinceEnglishName)))},E=Object(c.a)((function(e){return{specailCard:{position:"absolute",transition:"1s all linear",right:"65vw",top:"45vh"},searchComponents:{display:"flex",justifyContent:"center",alignItems:"space-around",paddingTop:"20px"},autocomputeInputAndButton:{display:"flex",justifyContent:"center",alignItems:"space-around"}}}));var b=function(e){var t=E(),a=Object(i.useState)(!1),r=Object(n.a)(a,2),c=r[0],d=r[1],f=e.className,y=e.cityData,g=e.language,b=Object(i.useState)(),N=Object(n.a)(b,2),j=N[0],C=N[1],O=Object(i.useState)(),w=Object(n.a)(O,2),x=w[0],S=w[1],k=Object(i.useRef)(null),A=Object(i.useRef)(null);return Object(i.useEffect)((function(){var e=[];y?y.forEach((function(t){var a;(a=e).push.apply(a,Object(l.a)(t))})):console.log("empty cityData"),(e=e.map((function(e){return'"null"'==e.cityEnglishName&&(e.cityEnglishName="External input"),e})))?C(e):console.log("empty city data array")}),[y,g]),o.a.createElement("div",{className:f},o.a.createElement("div",{className:t.searchComponents},o.a.createElement(u.a,{onClick:function(){var e;null===A||void 0===A||null===(e=A.current)||void 0===e||e.setAttribute("style","\n                right:15vw;\n        ");var t=j[Math.floor(j.length*Math.random())];setTimeout((function(){var e;S(t),null===A||void 0===A||null===(e=A.current)||void 0===e||e.setAttribute("style","\n                    right:65vw\n                    ")}),1500)},color:"primary",variant:"contained",style:{marginRight:"5vw"}},g?"\u968f\u4fbf\u770b\u4e00\u770b":"random look"),o.a.createElement("div",{className:t.autocomputeInputAndButton},j?o.a.createElement(m.a,{id:"free-solo-demo",freeSolo:!0,style:{width:300,marginRight:"10px"},size:"medium",options:j,groupBy:function(e){return g?e.provinceName:e.provinceEnglishName},getOptionLabel:function(e){return g?e.cityName:e.cityEnglishName||e.provinceEnglishName},renderInput:function(e){return o.a.createElement(s.a,Object.assign({},e,{inputRef:k,label:g?"\u57ce\u5e02\u540d\u79f0":"city name",margin:"normal",variant:"outlined"}))}}):"",o.a.createElement(u.a,{color:"secondary",variant:"contained",onClick:function(){var e,t,a=null===(e=k.current)||void 0===e?void 0:e.value,n=j.filter((function(e){return g?(e.cityName?e.cityName:e.provinceShortName)===a:(e.cityEnglishName?e.cityEnglishName:e.provinceEnglishName)===a}))[0];n?(null===A||void 0===A||null===(t=A.current)||void 0===t||t.setAttribute("style","\n                right:15vw;\n                "),setTimeout((function(){var e;S(n),null===A||void 0===A||null===(e=A.current)||void 0===e||e.setAttribute("style","\n                    right:65vw;\n                    ")}),1500)):d(!0)}},g?"\u67e5\u627e\u6307\u5b9a\u57ce\u5e02":"Find a specified city"))),o.a.createElement("div",{ref:A,className:t.specailCard},x?o.a.createElement(h,{language:g,value:x}):o.a.createElement("strong",null,g?"\u8bf7\u9009\u62e9\u4e00\u4e2a\u57ce\u5e02\u67e5\u770b":"Please choose a city")),o.a.createElement(v.a,{open:c,autoHideDuration:6e3,onClose:function(){return d(!1)}},o.a.createElement(p.a,{elevation:6,onClose:function(){return d(!1)},severity:"error",variant:"filled"},g?"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u57ce\u5e02\u540d\u79f0":"Please input correct name of city")))},N=Object(c.a)({root:{width:"100vw",height:"100vh",position:"relative"},cityCards:{position:"absolute",right:"15vw",top:"45vh"},h1:{width:"100vw",height:"8vh",color:"#1d2228",fontSize:"35px",textAlign:"center"}});t.default=function(e){var t=e.language,a=e.chinaData,c=N(),l=Object(i.useState)(),u=Object(n.a)(l,2),s=u[0],m=u[1];return Object(i.useEffect)((function(){if(a){var e=a.map((function(e){var t;return(null===(t=e.cities)||void 0===t?void 0:t.length)?e.cities:[e]}));m(e.map((function(e,t){return e.map((function(e){return e.provinceName=a[t].provinceName,e.provinceEnglishName=a[t].provinceEnglishName,e.cityName||(e.cityName=e.provinceName),e}))})))}Object(r.a)().reveal(".CityMap",{duration:2e3,distance:"0px",opacity:0,reset:!0})}),[a]),Object(i.useEffect)((function(){}),[s]),o.a.createElement("div",{className:c.root+" CityMap"},o.a.createElement("h1",{className:c.h1},t?"\u57ce\u5e02\u6982\u89c8":"Cities Overview"),o.a.createElement(b,{language:t,cityData:s}),null===s||void 0===s?void 0:s.map((function(e,a){return 4===a?null===e||void 0===e?void 0:e.map((function(e,a){return a<10?o.a.createElement("div",{className:c.cityCards,style:{transform:"translate(-".concat(2*a,"px,-").concat(2*a,"px)")},key:a},o.a.createElement(h,{language:t,value:e})):""})):""})))}}}]);
//# sourceMappingURL=4.25c0235b.chunk.js.map